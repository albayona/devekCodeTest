{"ast":null,"code":"import*as React from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import Grid from'@mui/material/Grid';import Box from'@mui/material/Box';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import Typography from'@mui/material/Typography';import{Alert,Paper,TextField,Link}from'@mui/material';import{useNavigate}from'react-router-dom';import{useState}from'react';import{API_HOST}from'../hooks/UseFetch';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Copyright(props){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",align:\"center\",...props,children:['Copyright © ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",children:\"Andy\"}),' ',new Date().getFullYear(),'.']});}export default function SignUpPage(){const[input,setInput]=useState({name:'',email:'',password:''});const[nameError,setNameError]=useState(false);const[emailError,setEmailError]=useState(false);const[passError,setPassError]=useState(false);const[authError,setAuthError]=useState('');const navigate=useNavigate();const handleSubmit=event=>{event.preventDefault();const nameEmpty=input.name.trim()==='';const emailEmpty=input.email.trim()==='';const passwordEmpty=input.password.trim()==='';setNameError(nameEmpty);setEmailError(emailEmpty);setPassError(passwordEmpty);if(!nameEmpty&&!emailEmpty&&!passwordEmpty){fetch(`${API_HOST}/signup/`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(input)}).then(response=>{if(!response.ok){throw new Error('Sign-up failed');}return response.json();}).then(()=>navigate('/login')).catch(err=>setAuthError(err.message));}};const handleChange=e=>{setInput(prev=>({...prev,[e.target.name]:e.target.value}));};return/*#__PURE__*/_jsx(Grid,{container:true,component:\"main\",sx:{height:'100vh'},children:/*#__PURE__*/_jsx(Grid,{size:{xs:12,sm:8,md:5},component:Paper,elevation:6,children:/*#__PURE__*/_jsxs(Box,{sx:{my:8,mx:4,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{error:nameError,helperText:nameError?\"Name is required\":\"\",onChange:handleChange,margin:\"normal\",required:true,fullWidth:true,id:\"name\",label:\"Name\",name:\"name\",autoFocus:true}),/*#__PURE__*/_jsx(TextField,{error:emailError,helperText:emailError?\"Email is required\":\"\",onChange:handleChange,margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email\",name:\"email\",autoComplete:\"email\"}),/*#__PURE__*/_jsx(TextField,{error:passError,helperText:passError?\"Password is required\":\"\",onChange:handleChange,margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"new-password\"}),authError&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:authError}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Sign Up\"}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{size:{xs:6},children:/*#__PURE__*/_jsx(Link,{href:\"/login\",variant:\"body2\",children:\"Already have an account? Log in\"})})})]}),/*#__PURE__*/_jsx(Copyright,{})]})})});}","map":{"version":3,"names":["React","Avatar","Button","Grid","Box","LockOutlinedIcon","Typography","Alert","Paper","TextField","Link","useNavigate","useState","API_HOST","jsx","_jsx","jsxs","_jsxs","Copyright","props","variant","color","align","children","Date","getFullYear","SignUpPage","input","setInput","name","email","password","nameError","setNameError","emailError","setEmailError","passError","setPassError","authError","setAuthError","navigate","handleSubmit","event","preventDefault","nameEmpty","trim","emailEmpty","passwordEmpty","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","json","catch","err","message","handleChange","e","prev","target","value","container","component","sx","height","size","xs","sm","md","elevation","my","mx","display","flexDirection","alignItems","m","bgcolor","onSubmit","noValidate","mt","error","helperText","onChange","margin","required","fullWidth","id","label","autoFocus","autoComplete","type","severity","mb","href"],"sources":["/Users/andresbayona/Documents/DevekRepo/devekCodeTest/Frontend/devek/src/pages/SignUp.tsx"],"sourcesContent":["import * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport { Alert, Paper, TextField, Link } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport { API_HOST } from '../hooks/UseFetch';\n\nfunction Copyright(props: React.HTMLAttributes<HTMLElement>) {\n    return (\n        <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n            {'Copyright © '}\n            <Link color=\"inherit\">Andy</Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\ninterface SignUpInput {\n    name: string;\n    email: string;\n    password: string;\n}\n\nexport default function SignUpPage() {\n    const [input, setInput] = useState<SignUpInput>({ name: '', email: '', password: '' });\n    const [nameError, setNameError] = useState(false);\n    const [emailError, setEmailError] = useState(false);\n    const [passError, setPassError] = useState(false);\n    const [authError, setAuthError] = useState('');\n    const navigate = useNavigate();\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        const nameEmpty = input.name.trim() === '';\n        const emailEmpty = input.email.trim() === '';\n        const passwordEmpty = input.password.trim() === '';\n        setNameError(nameEmpty);\n        setEmailError(emailEmpty);\n        setPassError(passwordEmpty);\n\n        if (!nameEmpty && !emailEmpty && !passwordEmpty) {\n            fetch(`${API_HOST}/signup/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(input),\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error('Sign-up failed');\n                    }\n                    return response.json();\n                })\n                .then(() => navigate('/login'))\n                .catch(err => setAuthError(err.message));\n        }\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setInput(prev => ({ ...prev, [e.target.name]: e.target.value }));\n    };\n\n    return (\n        <Grid container component=\"main\" sx={{ height: '100vh' }}>\n            <Grid size={{ xs: 12, sm: 8, md: 5 }} component={Paper} elevation={6}>\n                <Box sx={{ my: 8, mx: 4, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                    <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n                        <LockOutlinedIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">Sign Up</Typography>\n                    <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n                        <TextField\n                            error={nameError}\n                            helperText={nameError ? \"Name is required\" : \"\"}\n                            onChange={handleChange}\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"name\"\n                            label=\"Name\"\n                            name=\"name\"\n                            autoFocus\n                        />\n                        <TextField\n                            error={emailError}\n                            helperText={emailError ? \"Email is required\" : \"\"}\n                            onChange={handleChange}\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Email\"\n                            name=\"email\"\n                            autoComplete=\"email\"\n                        />\n                        <TextField\n                            error={passError}\n                            helperText={passError ? \"Password is required\" : \"\"}\n                            onChange={handleChange}\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"new-password\"\n                        />\n                        {authError && <Alert severity=\"error\">{authError}</Alert>}\n                        <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>Sign Up</Button>\n                        <Grid container>\n                            <Grid size={{ xs: 6 }}>\n                                <Link href=\"/login\" variant=\"body2\">Already have an account? Log in</Link>\n                            </Grid>\n                        </Grid>\n                    </Box>\n                    <Copyright />\n                </Box>\n            </Grid>\n        </Grid>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}